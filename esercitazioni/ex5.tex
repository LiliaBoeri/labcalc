%! TEX program = luatex
\documentclass[11pt]{article}
\usepackage{textcomp}
\usepackage{graphicx,wasysym, mdframed,xcolor,gensymb,verbatim}
\usepackage{color}
\usepackage{floatflt}
\usepackage[italian]{babel}
\input{listings_styles.tex}
\input{custom.tex}
\def\cmu{\mbox{cm$^{-1}$}}
\def\half{\frac{1}{2}}

\voffset -2cm
\hoffset -2.5cm
%\marginparwidth 0cm
\textheight 22cm
\textwidth 17cm
%\oddsidemargin  0.2cm                                                                                         
%\evensidemargin 0.4cm                                                                                         
\parindent=0pt

\begin{document}
\pagestyle{empty}

\begin{center}
{\Large \bf  Laboratorio di Calcolo per Fisici, Quinta esercitazione\\[2mm]}
{\large Canale \canale, Docente: \docente}
\end{center}
\vspace{4mm}

\begin{mdframed}[backgroundcolor=panna]
  Lo scopo della quinta esercitazione di laboratorio \`e di fare pratica con
le istruzioni di input/output da file e la gestione degli array, scrivendo un programma
che simula la gestione del personale di un piccolo negozio.
  \end{mdframed}
%\vspace{1mm}
%
%



\hrule
\vspace{2mm}
\textbf{$\RHD$ Prima parte:}
\begin{enumerate}
\item Creare (con un editor) un file di testo, chiamato {\em trimestre1.dat}, che 
contenga un riassunto dei dati trimestrali di vendita dei 10 commessi di
un piccolo negozio di computer. Il file contiene tre colonne: numero del commesso (C);  euro totali incassati (V); ore lavorate (H) e
10 righe (una per commesso).
\begin{mdframed}[backgroundcolor=panna]
\texttt{1    450   32\\
2    322   14\\
3    870   82\\
4    765   76\\
5    198   20\\
6    145   10\\
7    828   75\\
8    932   80\\
9    267   32\\
10   424   18}
\end{mdframed}

\item Scrivere un programma \texttt{leggi.c} che, utilizzando opportunamente le funzioni di lettura da un file 
legga i dati contenuti in {\em trimestre1.dat}, li salvi in un array multidimensionale, e li stampi su schermo.

\item Oltre ai dati letti dal file, il programma \texttt{leggi.c} dovrà
calcolare la {\em media oraria\/} di vendita di ciascun commesso e stamparla sullo schermo.
\end{enumerate}

\hrule
\vspace{2mm}
\textbf{$\RHD$ Seconda parte:}

Partendo dal programma precedente, scrivere un programma chiamato \texttt{dai\_voto.c} che a partire dall'elaborazione dei risultati di
vendita trimestrale di ciascun commesso, stili una classifica dei 10 commessi e attribuisca loro
un voto. In particolare, il programma deve: 
\begin{enumerate}
\item Stilare una classifica dei commessi in base alla media oraria di vendita.
\item Dare a ciascun commesso un voto compreso tra 1 e 10 per valutare la sua performance; il commesso con la performance migliore ottiene 10 punti, il secondo 9, e così via.
\item Stampare su schermo e su un file le seguenti informazioni per ciascun commesso:\\
\texttt{
$\#$  Commesso $\#$ Ore $\#$ Vendite in Euro $\#$ Media $\#$ Voto\\
}
\end{enumerate}


\hrule
\vspace{2mm}
\textbf{$\RHD$ Terza parte (Facoltativa)}
Far girare il programma \texttt{dai\_voto.c} per i quattro trimestri del 2016, utilizzando i dati riportati nel riquadro sottostante. Una volta ottenute le medie orarie e i voti di ciascun venditore per tutti i trimestri:
\begin{enumerate}
\item Creare con \texttt{python} un grafico che mostri l'andamento delle medie orarie per ciascun commesso; sul grafico vanno riportati simultaneamente {\bf tutti i venditori}, con una legenda esplicativa.
\item Fare un grafico che riporti l'andamento del voto di ciascun commesso in funzione del tempo.
\item A partire dai due grafici precedenti, qual è il commesso che ha ottenuto la performance {\em media\/} migliore su ciascun trimestre? Quale la peggiore?
Quale dei commessi ha dimostrato un margine di miglioramento e quale \`e peggiorato in maniera significativa?
Scrivere le risposte sul file \texttt{risposte.txt}.
\end{enumerate}


{\bf Vendite per trimestre:}

\begin{mdframed}[backgroundcolor=panna]
{\bf Primo trimestre:} file \texttt{trimestre1.dat}.
\\
{\bf Secondo, Terzo e quarto trimestre:}
\\
 C $\;$V2  $\;$ H2 $\;$ V3 $\;$ H3 $\;$   V4 $\;$ H4\\
\texttt{1$\;$          450$\;$             32$\;$       360$\;$         28$\;$            500$\;$        40 \\
           2$\;$         380$\;$             31$\;$        415$\;$         31$\;$            324$\;$        60 \\
           3$\;$          900$\;$             52$\;$        320$\;$         15$\;$            400$\;$        50\\
           4$\;$          800$\;$             60$\;$        643$\;$         28$\;$            300$\;$        25\\
           5$\;$         600$\;$             80$\;$        472$\;$         32$\;$            120$\;$        10\\
           6$\;$         744$\;$             61$\;$        432$\;$         22$\;$            374$\;$        18\\ 
           7$\;$        123$\;$             12$\;$        328$\;$         19$\;$            702$\;$        40\\ 
           8$\;$        426$\;$             37$\;$        544$\;$         26$\;$            187$\;$        21\\
           9$\;$        184$\;$             14$\;$        612$\;$         43$\;$            781$\;$        72\\
           10$\;$      212$\;$         22$\;$        374$\;$         32$\;$            643$\;$        47\\}
dove H$i$, V$i$ stanno per ore e vendite di ciascun trimestre $i$.
\end{mdframed}
 \begin{mdframed}[backgroundcolor=panna]
\textbf{$\RHD$}
Per leggere/scrivere dati da un file anziche' da standard I/O si usano i comandi \texttt{fscanf} e \texttt{fprintf}, analoghi a  \texttt{scanf} e \texttt{printf}. Per poter operare su di un file bisogna aprirlo con il comando \texttt{fopen},
che assegna il nome del file da aprire a un puntatore a file. In pratica:
\begin{itemize}
\item All'inizio del programma, in fase di dichiarazione delle variabili, dichiarare un {\em puntatore a file} con il comando: \texttt{FILE *fp}.
\item Prima di leggere/scrivere dal file, aprirlo con il comando: 
\texttt{fp=fopen(``file.dat'',''r'')}.
La lettera \texttt{r} indica che il file \`e aperto in modalit\`a solo
lettura ({\em read}). Per aprire in modalit\`a scrittura sostituire \texttt{r} con \texttt{w} ({\em write}).
\item Leggere o scrivere da un file usando i comandi:
  \texttt{fscanf(fp,''\%stringa di formattazione'',\&var1,...,\&varn)} e
  \texttt{fprintf(fp,''\%stringa di formattazione'',var1,...,varn)}.
\item Alla fine del programma, chiudere il file con il comando
  \texttt{fclose(fp)}.
\end{itemize}

\end{mdframed}


\end{document}
